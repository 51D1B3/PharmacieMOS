{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\51D1B3\\\\MesProjets\\\\Pharmacie\\\\frontend\\\\src\\\\components\\\\ProductsGrid.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ShoppingCart, Package, Heart, Eye, Star, AlertTriangle, Filter, ChevronDown, X, Search } from 'lucide-react';\nimport { useCart } from '../contexts/CartContext.jsx';\nimport apiService from '../services/api';\nimport { formatPrice, calculateDiscountPercentage } from '../services/priceFormatter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsGrid = () => {\n  _s();\n  var _categories$find, _categories$find2, _categories$find2$chi;\n  const {\n    addToCart\n  } = useCart();\n  const [products, setProducts] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [favorites, setFavorites] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedSubCategory, setSelectedSubCategory] = useState('');\n  const API_URL = process.env.REACT_APP_API_URL;\n  const [showCategoryFilter, setShowCategoryFilter] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const filterProducts = React.useCallback(() => {\n    let filtered = [...allProducts];\n\n    // Filtrer par recherche\n    if (searchTerm) {\n      filtered = filtered.filter(product => {\n        var _product$name, _product$brand, _product$description;\n        return ((_product$name = product.name) === null || _product$name === void 0 ? void 0 : _product$name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_product$brand = product.brand) === null || _product$brand === void 0 ? void 0 : _product$brand.toLowerCase().includes(searchTerm.toLowerCase())) || ((_product$description = product.description) === null || _product$description === void 0 ? void 0 : _product$description.toLowerCase().includes(searchTerm.toLowerCase()));\n      });\n    }\n    if (selectedCategory) {\n      if (selectedSubCategory) {\n        // Filtrer par sous-catégorie\n        filtered = filtered.filter(product => product.category === selectedSubCategory || product.categoryId === selectedSubCategory);\n      } else {\n        // Filtrer par catégorie principale et ses sous-catégories\n        const categoryWithChildren = categories.find(cat => cat._id === selectedCategory);\n        const categoryIds = [selectedCategory];\n        if (categoryWithChildren !== null && categoryWithChildren !== void 0 && categoryWithChildren.children) {\n          categoryIds.push(...categoryWithChildren.children.map(child => child._id));\n        }\n        filtered = filtered.filter(product => categoryIds.includes(product.category) || categoryIds.includes(product.categoryId));\n      }\n    }\n    setProducts(filtered);\n  }, [allProducts, selectedCategory, selectedSubCategory, categories, searchTerm]);\n  useEffect(() => {\n    loadProducts();\n    loadCategories();\n  }, []);\n  useEffect(() => {\n    filterProducts();\n  }, [filterProducts]);\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProducts({\n        limit: 50\n      });\n      const fetchedProducts = response !== null && response !== void 0 && response.data && Array.isArray(response.data) ? response.data : [];\n      setAllProducts(fetchedProducts);\n      setProducts(fetchedProducts);\n    } catch (error) {\n      console.error('Erreur lors du chargement des produits:', error);\n      setAllProducts([]);\n      setProducts([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadCategories = async () => {\n    try {\n      const response = await apiService.getCategories();\n      const fetchedCategories = Array.isArray(response) ? response : [];\n      setCategories(fetchedCategories);\n    } catch (error) {\n      console.error('Erreur lors du chargement des catégories:', error);\n      setCategories([]);\n    }\n  };\n  const resetFilters = () => {\n    setSelectedCategory('');\n    setSelectedSubCategory('');\n    setShowCategoryFilter(false);\n  };\n  const getSelectedCategoryName = () => {\n    if (selectedSubCategory) {\n      var _parentCategory$child;\n      const parentCategory = categories.find(cat => {\n        var _cat$children;\n        return (_cat$children = cat.children) === null || _cat$children === void 0 ? void 0 : _cat$children.some(child => child._id === selectedSubCategory);\n      });\n      const subCategory = parentCategory === null || parentCategory === void 0 ? void 0 : (_parentCategory$child = parentCategory.children) === null || _parentCategory$child === void 0 ? void 0 : _parentCategory$child.find(child => child._id === selectedSubCategory);\n      return `${parentCategory === null || parentCategory === void 0 ? void 0 : parentCategory.name} > ${subCategory === null || subCategory === void 0 ? void 0 : subCategory.name}`;\n    }\n    if (selectedCategory) {\n      const category = categories.find(cat => cat._id === selectedCategory);\n      return category === null || category === void 0 ? void 0 : category.name;\n    }\n    return 'Toutes les catégories';\n  };\n  const toggleFavorite = product => {\n    setFavorites(prev => {\n      const isFavorite = prev.some(fav => fav._id === product._id);\n      if (isFavorite) {\n        return prev.filter(fav => fav._id !== product._id);\n      } else {\n        return [...prev, product];\n      }\n    });\n  };\n  const isFavorite = productId => {\n    return favorites.some(fav => fav._id === productId);\n  };\n  const handleAddToCart = product => {\n    addToCart(product);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Nos Produits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: [products.length, \" produits disponibles\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Rechercher un produit...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"h-5 w-5 mr-2 text-primary-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), \"Filtrer par cat\\xE9gorie\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), (selectedCategory || selectedSubCategory) && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetFilters,\n          className: \"text-sm text-red-600 hover:text-red-700 flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"R\\xE9initialiser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Cat\\xE9gorie principale\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCategoryFilter(!showCategoryFilter),\n              className: \"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-left flex items-center justify-between hover:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-900\",\n                children: selectedCategory ? (_categories$find = categories.find(cat => cat._id === selectedCategory)) === null || _categories$find === void 0 ? void 0 : _categories$find.name : 'Sélectionner une catégorie'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: `h-4 w-4 text-gray-500 transition-transform ${showCategoryFilter ? 'rotate-180' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), showCategoryFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedCategory('');\n                  setSelectedSubCategory('');\n                  setShowCategoryFilter(false);\n                },\n                className: \"w-full px-4 py-2 text-left hover:bg-gray-50 text-gray-700\",\n                children: \"Toutes les cat\\xE9gories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedCategory(category._id);\n                  setSelectedSubCategory('');\n                  setShowCategoryFilter(false);\n                },\n                className: `w-full px-4 py-2 text-left hover:bg-gray-50 ${selectedCategory === category._id ? 'bg-primary-50 text-primary-700' : 'text-gray-700'}`,\n                children: [category.name, category.children && category.children.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500 ml-2\",\n                  children: [\"(\", category.children.length, \" sous-cat\\xE9gories)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 25\n                }, this)]\n              }, category._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), selectedCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Sous-cat\\xE9gorie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedSubCategory,\n            onChange: e => setSelectedSubCategory(e.target.value),\n            className: \"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Toutes les sous-cat\\xE9gories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), (_categories$find2 = categories.find(cat => cat._id === selectedCategory)) === null || _categories$find2 === void 0 ? void 0 : (_categories$find2$chi = _categories$find2.children) === null || _categories$find2$chi === void 0 ? void 0 : _categories$find2$chi.map(subCategory => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: subCategory._id,\n              children: subCategory.name\n            }, subCategory._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), (selectedCategory || selectedSubCategory) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-3 bg-primary-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-primary-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Filtre actuel:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), \" \", getSelectedCategoryName()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n      children: products.map(product => {\n        var _product$stock, _product$stock2, _ref, _product$discountedPr, _product$priceTTC, _product$statistics, _product$statistics$a;\n        const stockOnHand = ((_product$stock = product.stock) === null || _product$stock === void 0 ? void 0 : _product$stock.onHand) || 0;\n        const isLowStock = stockOnHand <= (((_product$stock2 = product.stock) === null || _product$stock2 === void 0 ? void 0 : _product$stock2.thresholdAlert) || 5) && stockOnHand > 0;\n        const isOutOfStock = stockOnHand === 0;\n        const finalPrice = (_ref = (_product$discountedPr = product.discountedPrice) !== null && _product$discountedPr !== void 0 ? _product$discountedPr : product.priceTTC) !== null && _ref !== void 0 ? _ref : product.prix;\n        const originalPrice = (_product$priceTTC = product.priceTTC) !== null && _product$priceTTC !== void 0 ? _product$priceTTC : product.prix;\n        const hasDiscount = product.hasActiveDiscount && finalPrice < originalPrice;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative h-48 bg-gray-100 overflow-hidden\",\n            children: [product.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image.startsWith('http') ? product.image : `http://localhost:5000${product.image}`,\n              alt: product.name || product.nom,\n              className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\",\n              onError: e => {\n                console.log('Image error for product:', product.name, 'Image path:', product.image);\n                e.target.src = `https://via.placeholder.com/400x400.png/f3f4f6/9ca3af?text=${encodeURIComponent(product.name || product.nom || 'Produit')}`;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Package, {\n                className: \"h-12 w-12 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 left-2 flex flex-col gap-2\",\n              children: [hasDiscount && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full\",\n                children: \"PROMO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this), isOutOfStock && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-700 text-white text-xs font-semibold px-2 py-1 rounded-full\",\n                children: \"Rupture\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), isLowStock && !isOutOfStock && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-yellow-500 text-white text-xs font-semibold px-2 py-1 rounded-full\",\n                children: \"Stock Faible\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleFavorite(product),\n              className: `absolute top-2 right-2 p-2 rounded-full transition-colors ${isFavorite(product._id) ? 'bg-red-500 text-white' : 'bg-white text-gray-400 hover:text-red-500'}`,\n              children: /*#__PURE__*/_jsxDEV(Heart, {\n                className: `h-4 w-4 ${isFavorite(product._id) ? 'fill-current' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"p-3 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"h-5 w-5 text-gray-700\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), !isOutOfStock && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAddToCart(product),\n                  className: \"p-3 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 font-medium\",\n                children: product.brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2\",\n                children: product.name || product.nom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [product.dosage, \" - \", product.form]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg font-bold text-primary-600\",\n                  children: formatPrice(finalPrice)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this), hasDiscount && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-500 line-through\",\n                    children: formatPrice(originalPrice)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-red-600 font-medium\",\n                    children: [\"-\", calculateDiscountPercentage(originalPrice, finalPrice), \" d'\\xE9conomie\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAddToCart(product),\n                disabled: isOutOfStock,\n                className: \"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 text-white px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Ajouter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"h-4 w-4 text-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center text-xs text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Star, {\n                  className: \"h-4 w-4 text-yellow-400 fill-current\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-1\",\n                  children: ((_product$statistics = product.statistics) === null || _product$statistics === void 0 ? void 0 : (_product$statistics$a = _product$statistics.averageRating) === null || _product$statistics$a === void 0 ? void 0 : _product$statistics$a.toFixed(1)) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400 mt-2\",\n              children: [\"R\\xE9f: \", product.sku]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, product._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), products.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(Package, {\n        className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-2\",\n        children: \"Aucun produit disponible\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Les produits seront bient\\xF4t disponibles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductsGrid, \"N8nSNTwC/010Nj+poarRw7or5Tg=\", false, function () {\n  return [useCart];\n});\n_c = ProductsGrid;\nexport default ProductsGrid;\nvar _c;\n$RefreshReg$(_c, \"ProductsGrid\");","map":{"version":3,"names":["React","useState","useEffect","ShoppingCart","Package","Heart","Eye","Star","AlertTriangle","Filter","ChevronDown","X","Search","useCart","apiService","formatPrice","calculateDiscountPercentage","jsxDEV","_jsxDEV","ProductsGrid","_s","_categories$find","_categories$find2","_categories$find2$chi","addToCart","products","setProducts","allProducts","setAllProducts","categories","setCategories","loading","setLoading","favorites","setFavorites","selectedCategory","setSelectedCategory","selectedSubCategory","setSelectedSubCategory","API_URL","process","env","REACT_APP_API_URL","showCategoryFilter","setShowCategoryFilter","searchTerm","setSearchTerm","filterProducts","useCallback","filtered","filter","product","_product$name","_product$brand","_product$description","name","toLowerCase","includes","brand","description","category","categoryId","categoryWithChildren","find","cat","_id","categoryIds","children","push","map","child","loadProducts","loadCategories","response","getProducts","limit","fetchedProducts","data","Array","isArray","error","console","getCategories","fetchedCategories","resetFilters","getSelectedCategoryName","_parentCategory$child","parentCategory","_cat$children","some","subCategory","toggleFavorite","prev","isFavorite","fav","productId","handleAddToCart","className","fileName","_jsxFileName","lineNumber","columnNumber","length","type","placeholder","value","onChange","e","target","onClick","_product$stock","_product$stock2","_ref","_product$discountedPr","_product$priceTTC","_product$statistics","_product$statistics$a","stockOnHand","stock","onHand","isLowStock","thresholdAlert","isOutOfStock","finalPrice","discountedPrice","priceTTC","prix","originalPrice","hasDiscount","hasActiveDiscount","image","src","startsWith","alt","nom","onError","log","encodeURIComponent","dosage","form","disabled","statistics","averageRating","toFixed","sku","_c","$RefreshReg$"],"sources":["C:/Users/51D1B3/MesProjets/Pharmacie/frontend/src/components/ProductsGrid.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ShoppingCart, Package, Heart, Eye, Star, AlertTriangle, Filter, ChevronDown, X, Search } from 'lucide-react';\nimport { useCart } from '../contexts/CartContext.jsx';\nimport apiService from '../services/api';\nimport { formatPrice, calculateDiscountPercentage } from '../services/priceFormatter';\n\nconst ProductsGrid = () => {\n  const { addToCart } = useCart();\n  const [products, setProducts] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [favorites, setFavorites] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedSubCategory, setSelectedSubCategory] = useState('');\n  const API_URL = process.env.REACT_APP_API_URL;\n  const [showCategoryFilter, setShowCategoryFilter] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const filterProducts = React.useCallback(() => {\n    let filtered = [...allProducts];\n    \n    // Filtrer par recherche\n    if (searchTerm) {\n      filtered = filtered.filter(product => \n        product.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.brand?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    \n    if (selectedCategory) {\n      if (selectedSubCategory) {\n        // Filtrer par sous-catégorie\n        filtered = filtered.filter(product => \n          product.category === selectedSubCategory ||\n          product.categoryId === selectedSubCategory\n        );\n      } else {\n        // Filtrer par catégorie principale et ses sous-catégories\n        const categoryWithChildren = categories.find(cat => cat._id === selectedCategory);\n        const categoryIds = [selectedCategory];\n        if (categoryWithChildren?.children) {\n          categoryIds.push(...categoryWithChildren.children.map(child => child._id));\n        }\n        \n        filtered = filtered.filter(product => \n          categoryIds.includes(product.category) ||\n          categoryIds.includes(product.categoryId)\n        );\n      }\n    }\n    \n    setProducts(filtered);\n  }, [allProducts, selectedCategory, selectedSubCategory, categories, searchTerm]);\n\n  useEffect(() => {\n    loadProducts();\n    loadCategories();\n  }, []);\n\n  useEffect(() => {\n    filterProducts();\n  }, [filterProducts]);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProducts({ limit: 50 });\n      const fetchedProducts = response?.data && Array.isArray(response.data) ? response.data : [];\n      setAllProducts(fetchedProducts);\n      setProducts(fetchedProducts);\n    } catch (error) {\n      console.error('Erreur lors du chargement des produits:', error);\n      setAllProducts([]);\n      setProducts([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadCategories = async () => {\n    try {\n      const response = await apiService.getCategories();\n      const fetchedCategories = Array.isArray(response) ? response : [];\n      setCategories(fetchedCategories);\n    } catch (error) {\n      console.error('Erreur lors du chargement des catégories:', error);\n      setCategories([]);\n    }\n  };\n\n  const resetFilters = () => {\n    setSelectedCategory('');\n    setSelectedSubCategory('');\n    setShowCategoryFilter(false);\n  };\n\n  const getSelectedCategoryName = () => {\n    if (selectedSubCategory) {\n      const parentCategory = categories.find(cat => \n        cat.children?.some(child => child._id === selectedSubCategory)\n      );\n      const subCategory = parentCategory?.children?.find(child => child._id === selectedSubCategory);\n      return `${parentCategory?.name} > ${subCategory?.name}`;\n    }\n    if (selectedCategory) {\n      const category = categories.find(cat => cat._id === selectedCategory);\n      return category?.name;\n    }\n    return 'Toutes les catégories';\n  };\n\n  const toggleFavorite = (product) => {\n    setFavorites(prev => {\n      const isFavorite = prev.some(fav => fav._id === product._id);\n      if (isFavorite) {\n        return prev.filter(fav => fav._id !== product._id);\n      } else {\n        return [...prev, product];\n      }\n    });\n  };\n\n  const isFavorite = (productId) => {\n    return favorites.some(fav => fav._id === productId);\n  };\n\n  const handleAddToCart = (product) => {\n    addToCart(product);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mt-8\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Nos Produits</h2>\n        <p className=\"text-gray-600\">{products.length} produits disponibles</p>\n      </div>\n\n      {/* Barre de recherche */}\n      <div className=\"mb-6\">\n        <div className=\"relative max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Rechercher un produit...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n          />\n        </div>\n      </div>\n\n      {/* Filtres par catégories */}\n      <div className=\"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n            <Filter className=\"h-5 w-5 mr-2 text-primary-600\" />\n            Filtrer par catégorie\n          </h3>\n          {(selectedCategory || selectedSubCategory) && (\n            <button\n              onClick={resetFilters}\n              className=\"text-sm text-red-600 hover:text-red-700 flex items-center space-x-1\"\n            >\n              <X className=\"h-4 w-4\" />\n              <span>Réinitialiser</span>\n            </button>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Sélection de catégorie principale */}\n          <div className=\"relative\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Catégorie principale\n            </label>\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowCategoryFilter(!showCategoryFilter)}\n                className=\"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-left flex items-center justify-between hover:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n              >\n                <span className=\"text-gray-900\">\n                  {selectedCategory ? \n                    categories.find(cat => cat._id === selectedCategory)?.name : \n                    'Sélectionner une catégorie'\n                  }\n                </span>\n                <ChevronDown className={`h-4 w-4 text-gray-500 transition-transform ${showCategoryFilter ? 'rotate-180' : ''}`} />\n              </button>\n              \n              {showCategoryFilter && (\n                <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto\">\n                  <button\n                    onClick={() => {\n                      setSelectedCategory('');\n                      setSelectedSubCategory('');\n                      setShowCategoryFilter(false);\n                    }}\n                    className=\"w-full px-4 py-2 text-left hover:bg-gray-50 text-gray-700\"\n                  >\n                    Toutes les catégories\n                  </button>\n                  {categories.map((category) => (\n                    <button\n                      key={category._id}\n                      onClick={() => {\n                        setSelectedCategory(category._id);\n                        setSelectedSubCategory('');\n                        setShowCategoryFilter(false);\n                      }}\n                      className={`w-full px-4 py-2 text-left hover:bg-gray-50 ${\n                        selectedCategory === category._id ? 'bg-primary-50 text-primary-700' : 'text-gray-700'\n                      }`}\n                    >\n                      {category.name}\n                      {category.children && category.children.length > 0 && (\n                        <span className=\"text-xs text-gray-500 ml-2\">\n                          ({category.children.length} sous-catégories)\n                        </span>\n                      )}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Sélection de sous-catégorie */}\n          {selectedCategory && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Sous-catégorie\n              </label>\n              <select\n                value={selectedSubCategory}\n                onChange={(e) => setSelectedSubCategory(e.target.value)}\n                className=\"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              >\n                <option value=\"\">Toutes les sous-catégories</option>\n                {categories\n                  .find(cat => cat._id === selectedCategory)\n                  ?.children?.map((subCategory) => (\n                    <option key={subCategory._id} value={subCategory._id}>\n                      {subCategory.name}\n                    </option>\n                  ))}\n              </select>\n            </div>\n          )}\n        </div>\n\n        {/* Affichage du filtre actuel */}\n        {(selectedCategory || selectedSubCategory) && (\n          <div className=\"mt-4 p-3 bg-primary-50 rounded-lg\">\n            <p className=\"text-sm text-primary-700\">\n              <strong>Filtre actuel:</strong> {getSelectedCategoryName()}\n            </p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        {products.map((product) => {\n          const stockOnHand = product.stock?.onHand || 0;\n          const isLowStock = stockOnHand <= (product.stock?.thresholdAlert || 5) && stockOnHand > 0;\n          const isOutOfStock = stockOnHand === 0;\n          const finalPrice = product.discountedPrice ?? product.priceTTC ?? product.prix;\n          const originalPrice = product.priceTTC ?? product.prix;\n          const hasDiscount = product.hasActiveDiscount && finalPrice < originalPrice;\n\n          return (\n            <div key={product._id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 group\">\n              {/* Image du produit */}\n              <div className=\"relative h-48 bg-gray-100 overflow-hidden\">\n                {product.image ? (\n                  <img\n                    src={product.image.startsWith('http') ? product.image : `http://localhost:5000${product.image}`}\n                    alt={product.name || product.nom}\n                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                    onError={(e) => {\n                      console.log('Image error for product:', product.name, 'Image path:', product.image);\n                      e.target.src = `https://via.placeholder.com/400x400.png/f3f4f6/9ca3af?text=${encodeURIComponent(product.name || product.nom || 'Produit')}`;\n                    }}\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <Package className=\"h-12 w-12 text-gray-400\" />\n                  </div>\n                )}\n                \n                {/* Badges */}\n                <div className=\"absolute top-2 left-2 flex flex-col gap-2\">\n                  {hasDiscount && (\n                    <div className=\"bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full\">\n                      PROMO\n                    </div>\n                  )}\n                  {isOutOfStock && (\n                    <div className=\"bg-gray-700 text-white text-xs font-semibold px-2 py-1 rounded-full\">\n                      Rupture\n                    </div>\n                  )}\n                  {isLowStock && !isOutOfStock && (\n                    <div className=\"bg-yellow-500 text-white text-xs font-semibold px-2 py-1 rounded-full\">\n                      Stock Faible\n                    </div>\n                  )}\n                </div>\n                \n                {/* Bouton favoris */}\n                <button\n                  onClick={() => toggleFavorite(product)}\n                  className={`absolute top-2 right-2 p-2 rounded-full transition-colors ${\n                    isFavorite(product._id)\n                      ? 'bg-red-500 text-white'\n                      : 'bg-white text-gray-400 hover:text-red-500'\n                  }`}\n                >\n                  <Heart className={`h-4 w-4 ${isFavorite(product._id) ? 'fill-current' : ''}`} />\n                </button>\n\n                {/* Actions rapides */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center\">\n                  <div className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex space-x-2\">\n                    <button className=\"p-3 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors\">\n                      <Eye className=\"h-5 w-5 text-gray-700\" />\n                    </button>\n                    {!isOutOfStock && (\n                      <button\n                        onClick={() => handleAddToCart(product)}\n                        className=\"p-3 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-colors\"\n                      >\n                        <ShoppingCart className=\"h-5 w-5\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Contenu */}\n              <div className=\"p-4\">\n                <div className=\"mb-2\">\n                  <p className=\"text-sm text-gray-500 font-medium\">{product.brand}</p>\n                  <h3 className=\"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2\">\n                    {product.name || product.nom}\n                  </h3>\n                  <p className=\"text-sm text-gray-600\">\n                    {product.dosage} - {product.form}\n                  </p>\n                </div>\n                \n                {/* Prix */}\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div>\n                    <span className=\"text-lg font-bold text-primary-600\">\n                      {formatPrice(finalPrice)}\n                    </span>\n                    {hasDiscount && (\n                      <div className=\"flex flex-col mt-1\">\n                        <span className=\"text-sm text-gray-500 line-through\">\n                          {formatPrice(originalPrice)}\n                        </span>\n                        <span className=\"text-xs text-red-600 font-medium\">\n                          -{calculateDiscountPercentage(originalPrice, finalPrice)} d'économie\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex space-x-2 mb-3\">\n                  <button\n                    onClick={() => handleAddToCart(product)}\n                    disabled={isOutOfStock}\n                    className=\"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 text-white px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-1\"\n                  >\n                    <ShoppingCart className=\"h-4 w-4\" />\n                    <span>Ajouter</span>\n                  </button>\n                  \n                  <button className=\"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\">\n                    <Eye className=\"h-4 w-4 text-gray-600\" />\n                  </button>\n                </div>\n\n                {/* Informations d'évaluation */}\n                <div className=\"flex items-center justify-center text-xs text-gray-500\">\n                  <div className=\"flex items-center\">\n                    <Star className=\"h-4 w-4 text-yellow-400 fill-current\" />\n                    <span className=\"ml-1\">{product.statistics?.averageRating?.toFixed(1) || 'N/A'}</span>\n                  </div>\n                </div>\n\n                <p className=\"text-xs text-gray-400 mt-2\">\n                  Réf: {product.sku}\n                </p>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Message si aucun produit */}\n      {products.length === 0 && (\n        <div className=\"text-center py-12\">\n          <Package className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Aucun produit disponible</h3>\n          <p className=\"text-gray-600\">\n            Les produits seront bientôt disponibles\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsGrid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}