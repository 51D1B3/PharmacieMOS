{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\51D1B3\\\\MesProjets\\\\Pharmacie\\\\frontend\\\\src\\\\components\\\\AdminCashSale.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Plus, Minus, ShoppingCart, DollarSign, Receipt, X, Package } from 'lucide-react';\nimport apiService from '../services/api.jsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminCashSale = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [cart, setCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  useEffect(() => {\n    loadProducts();\n  }, []);\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProducts({\n        limit: 100\n      });\n      const productsData = (response === null || response === void 0 ? void 0 : response.data) || [];\n      setProducts(productsData.filter(p => {\n        var _p$stock;\n        return p.isActive && (((_p$stock = p.stock) === null || _p$stock === void 0 ? void 0 : _p$stock.onHand) || 0) > 0;\n      }));\n    } catch (error) {\n      console.error('Erreur lors du chargement des produits:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.brand.toLowerCase().includes(searchTerm.toLowerCase()) || product.sku.toLowerCase().includes(searchTerm.toLowerCase()));\n  const addToCart = product => {\n    var _product$stock;\n    const existingItem = cart.find(item => item.product._id === product._id);\n    const availableStock = ((_product$stock = product.stock) === null || _product$stock === void 0 ? void 0 : _product$stock.onHand) || 0;\n    if (existingItem) {\n      if (existingItem.quantity < availableStock) {\n        setCart(cart.map(item => item.product._id === product._id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item));\n      }\n    } else {\n      if (availableStock > 0) {\n        setCart([...cart, {\n          product,\n          quantity: 1\n        }]);\n      }\n    }\n  };\n  const updateQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      setCart(cart.filter(item => item.product._id !== productId));\n    } else {\n      var _product$stock2;\n      const product = products.find(p => p._id === productId);\n      const maxQuantity = (product === null || product === void 0 ? void 0 : (_product$stock2 = product.stock) === null || _product$stock2 === void 0 ? void 0 : _product$stock2.onHand) || 0;\n      if (newQuantity <= maxQuantity) {\n        setCart(cart.map(item => item.product._id === productId ? {\n          ...item,\n          quantity: newQuantity\n        } : item));\n      }\n    }\n  };\n  const removeFromCart = productId => {\n    setCart(cart.filter(item => item.product._id !== productId));\n  };\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => total + item.product.priceTTC * item.quantity, 0);\n  };\n  const processCashSale = async () => {\n    if (cart.length === 0) {\n      alert('Veuillez ajouter des produits au panier');\n      return;\n    }\n    setProcessing(true);\n    try {\n      // Créer la commande de vente en espèces\n      const orderData = {\n        orderType: 'vente_pos',\n        deliveryMethod: 'pickup',\n        payment: {\n          method: 'cash',\n          status: 'paid',\n          amount: calculateTotal(),\n          paidAt: new Date()\n        },\n        items: cart.map(item => ({\n          product: item.product._id,\n          quantity: item.quantity,\n          priceHT: item.product.priceHT || item.product.priceTTC / (1 + (item.product.taxRate || 0) / 100),\n          priceTTC: item.product.priceTTC,\n          taxRate: item.product.taxRate || 0,\n          totalHT: (item.product.priceHT || item.product.priceTTC / (1 + (item.product.taxRate || 0) / 100)) * item.quantity,\n          totalTTC: item.product.priceTTC * item.quantity\n        })),\n        status: 'completed'\n      };\n      const response = await apiService.createOrder(orderData);\n      if (response) {\n        alert(`Vente enregistrée avec succès!\\nNuméro de vente: ${response.orderNumber || 'N/A'}\\nTotal: ${calculateTotal().toLocaleString()} GNF`);\n        setCart([]);\n        loadProducts(); // Recharger pour mettre à jour les stocks\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'enregistrement de la vente:', error);\n      alert('Erreur lors de l\\'enregistrement de la vente');\n    } finally {\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-sm border border-gray-100 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-900 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n          className: \"h-6 w-6 mr-2 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), \"Vente en Esp\\xE8ces\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Rechercher un produit...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-h-96 overflow-y-auto space-y-2\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this) : filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: \"Aucun produit trouv\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this) : filteredProducts.map(product => {\n            var _product$priceTTC, _product$stock3, _product$stock4;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 h-12 w-12\",\n                  children: product.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `http://localhost:5000${product.image}`,\n                    alt: product.name,\n                    className: \"h-12 w-12 rounded-lg object-cover\",\n                    onError: e => {\n                      var _product$name;\n                      e.target.src = `https://via.placeholder.com/100x100.png/f3f4f6/9ca3af?text=${encodeURIComponent(((_product$name = product.name) === null || _product$name === void 0 ? void 0 : _product$name.substring(0, 2)) || 'PR')}`;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-12 w-12 bg-gray-100 rounded-lg flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(Package, {\n                      className: \"h-6 w-6 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-gray-900\",\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [product.brand, \" - \", product.dosage]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-green-600\",\n                    children: [(_product$priceTTC = product.priceTTC) === null || _product$priceTTC === void 0 ? void 0 : _product$priceTTC.toLocaleString(), \" GNF\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"Stock: \", ((_product$stock3 = product.stock) === null || _product$stock3 === void 0 ? void 0 : _product$stock3.onHand) || 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => addToCart(product),\n                disabled: (((_product$stock4 = product.stock) === null || _product$stock4 === void 0 ? void 0 : _product$stock4.onHand) || 0) === 0,\n                className: \"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)]\n            }, product._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), \"Panier (\", cart.length, \" articles)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-h-64 overflow-y-auto space-y-2\",\n          children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: \"Panier vide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this) : cart.map(item => {\n            var _item$product$priceTT, _item$product$stock;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 border border-gray-200 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-medium text-gray-900\",\n                  children: item.product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [(_item$product$priceTT = item.product.priceTTC) === null || _item$product$priceTT === void 0 ? void 0 : _item$product$priceTT.toLocaleString(), \" GNF \\xD7 \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-green-600\",\n                  children: [(item.product.priceTTC * item.quantity).toLocaleString(), \" GNF\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateQuantity(item.product._id, item.quantity - 1),\n                  className: \"p-1 text-gray-400 hover:text-gray-600\",\n                  children: /*#__PURE__*/_jsxDEV(Minus, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium w-8 text-center\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateQuantity(item.product._id, item.quantity + 1),\n                  disabled: item.quantity >= (((_item$product$stock = item.product.stock) === null || _item$product$stock === void 0 ? void 0 : _item$product$stock.onHand) || 0),\n                  className: \"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50\",\n                  children: /*#__PURE__*/_jsxDEV(Plus, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeFromCart(item.product._id),\n                  className: \"p-1 text-red-400 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, item.product._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold text-green-600\",\n              children: [calculateTotal().toLocaleString(), \" GNF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: processCashSale,\n            disabled: processing,\n            className: \"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center justify-center space-x-2\",\n            children: processing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Traitement...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Receipt, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Enregistrer la Vente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminCashSale, \"Tg/cl9uwUwSq7MreWaF+2rgyGuM=\");\n_c = AdminCashSale;\nexport default AdminCashSale;\nvar _c;\n$RefreshReg$(_c, \"AdminCashSale\");","map":{"version":3,"names":["React","useState","useEffect","Search","Plus","Minus","ShoppingCart","DollarSign","Receipt","X","Package","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminCashSale","_s","products","setProducts","searchTerm","setSearchTerm","cart","setCart","loading","setLoading","processing","setProcessing","loadProducts","response","getProducts","limit","productsData","data","filter","p","_p$stock","isActive","stock","onHand","error","console","filteredProducts","product","name","toLowerCase","includes","brand","sku","addToCart","_product$stock","existingItem","find","item","_id","availableStock","quantity","map","updateQuantity","productId","newQuantity","_product$stock2","maxQuantity","removeFromCart","calculateTotal","reduce","total","priceTTC","processCashSale","length","alert","orderData","orderType","deliveryMethod","payment","method","status","amount","paidAt","Date","items","priceHT","taxRate","totalHT","totalTTC","createOrder","orderNumber","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","_product$priceTTC","_product$stock3","_product$stock4","image","src","alt","onError","_product$name","encodeURIComponent","substring","dosage","onClick","disabled","_item$product$priceTT","_item$product$stock","_c","$RefreshReg$"],"sources":["C:/Users/51D1B3/MesProjets/Pharmacie/frontend/src/components/AdminCashSale.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Minus, ShoppingCart, DollarSign, Receipt, X, Package } from 'lucide-react';\nimport apiService from '../services/api.jsx';\n\nconst AdminCashSale = () => {\n  const [products, setProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [cart, setCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [processing, setProcessing] = useState(false);\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  const loadProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getProducts({ limit: 100 });\n      const productsData = response?.data || [];\n      setProducts(productsData.filter(p => p.isActive && (p.stock?.onHand || 0) > 0));\n    } catch (error) {\n      console.error('Erreur lors du chargement des produits:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProducts = products.filter(product =>\n    product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    product.brand.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    product.sku.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const addToCart = (product) => {\n    const existingItem = cart.find(item => item.product._id === product._id);\n    const availableStock = product.stock?.onHand || 0;\n    \n    if (existingItem) {\n      if (existingItem.quantity < availableStock) {\n        setCart(cart.map(item =>\n          item.product._id === product._id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        ));\n      }\n    } else {\n      if (availableStock > 0) {\n        setCart([...cart, { product, quantity: 1 }]);\n      }\n    }\n  };\n\n  const updateQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      setCart(cart.filter(item => item.product._id !== productId));\n    } else {\n      const product = products.find(p => p._id === productId);\n      const maxQuantity = product?.stock?.onHand || 0;\n      \n      if (newQuantity <= maxQuantity) {\n        setCart(cart.map(item =>\n          item.product._id === productId\n            ? { ...item, quantity: newQuantity }\n            : item\n        ));\n      }\n    }\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(cart.filter(item => item.product._id !== productId));\n  };\n\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => total + (item.product.priceTTC * item.quantity), 0);\n  };\n\n  const processCashSale = async () => {\n    if (cart.length === 0) {\n      alert('Veuillez ajouter des produits au panier');\n      return;\n    }\n\n    setProcessing(true);\n    try {\n      // Créer la commande de vente en espèces\n      const orderData = {\n        orderType: 'vente_pos',\n        deliveryMethod: 'pickup',\n        payment: {\n          method: 'cash',\n          status: 'paid',\n          amount: calculateTotal(),\n          paidAt: new Date()\n        },\n        items: cart.map(item => ({\n          product: item.product._id,\n          quantity: item.quantity,\n          priceHT: item.product.priceHT || (item.product.priceTTC / (1 + (item.product.taxRate || 0) / 100)),\n          priceTTC: item.product.priceTTC,\n          taxRate: item.product.taxRate || 0,\n          totalHT: (item.product.priceHT || (item.product.priceTTC / (1 + (item.product.taxRate || 0) / 100))) * item.quantity,\n          totalTTC: item.product.priceTTC * item.quantity\n        })),\n        status: 'completed'\n      };\n\n      const response = await apiService.createOrder(orderData);\n      \n      if (response) {\n        alert(`Vente enregistrée avec succès!\\nNuméro de vente: ${response.orderNumber || 'N/A'}\\nTotal: ${calculateTotal().toLocaleString()} GNF`);\n        setCart([]);\n        loadProducts(); // Recharger pour mettre à jour les stocks\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'enregistrement de la vente:', error);\n      alert('Erreur lors de l\\'enregistrement de la vente');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-xl font-semibold text-gray-900 flex items-center\">\n          <DollarSign className=\"h-6 w-6 mr-2 text-green-600\" />\n          Vente en Espèces\n        </h3>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Section Produits */}\n        <div className=\"space-y-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher un produit...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            />\n          </div>\n\n          <div className=\"max-h-96 overflow-y-auto space-y-2\">\n            {loading ? (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto\"></div>\n              </div>\n            ) : filteredProducts.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                Aucun produit trouvé\n              </div>\n            ) : (\n              filteredProducts.map((product) => (\n                <div key={product._id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                  <div className=\"flex items-center space-x-3 flex-1\">\n                    {/* Photo du produit */}\n                    <div className=\"flex-shrink-0 h-12 w-12\">\n                      {product.image ? (\n                        <img\n                          src={`http://localhost:5000${product.image}`}\n                          alt={product.name}\n                          className=\"h-12 w-12 rounded-lg object-cover\"\n                          onError={(e) => {\n                            e.target.src = `https://via.placeholder.com/100x100.png/f3f4f6/9ca3af?text=${encodeURIComponent(product.name?.substring(0, 2) || 'PR')}`;\n                          }}\n                        />\n                      ) : (\n                        <div className=\"h-12 w-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                          <Package className=\"h-6 w-6 text-gray-400\" />\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Informations produit */}\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium text-gray-900\">{product.name}</h4>\n                      <p className=\"text-sm text-gray-600\">{product.brand} - {product.dosage}</p>\n                      <p className=\"text-sm font-medium text-green-600\">{product.priceTTC?.toLocaleString()} GNF</p>\n                      <p className=\"text-xs text-gray-500\">Stock: {product.stock?.onHand || 0}</p>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => addToCart(product)}\n                    disabled={(product.stock?.onHand || 0) === 0}\n                    className=\"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Section Panier */}\n        <div className=\"space-y-4\">\n          <h4 className=\"font-semibold text-gray-900 flex items-center\">\n            <ShoppingCart className=\"h-5 w-5 mr-2\" />\n            Panier ({cart.length} articles)\n          </h4>\n\n          <div className=\"max-h-64 overflow-y-auto space-y-2\">\n            {cart.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                Panier vide\n              </div>\n            ) : (\n              cart.map((item) => (\n                <div key={item.product._id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg\">\n                  <div className=\"flex-1\">\n                    <h5 className=\"font-medium text-gray-900\">{item.product.name}</h5>\n                    <p className=\"text-sm text-gray-600\">{item.product.priceTTC?.toLocaleString()} GNF × {item.quantity}</p>\n                    <p className=\"text-sm font-medium text-green-600\">\n                      {(item.product.priceTTC * item.quantity).toLocaleString()} GNF\n                    </p>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => updateQuantity(item.product._id, item.quantity - 1)}\n                      className=\"p-1 text-gray-400 hover:text-gray-600\"\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </button>\n                    <span className=\"text-sm font-medium w-8 text-center\">{item.quantity}</span>\n                    <button\n                      onClick={() => updateQuantity(item.product._id, item.quantity + 1)}\n                      disabled={item.quantity >= (item.product.stock?.onHand || 0)}\n                      className=\"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50\"\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </button>\n                    <button\n                      onClick={() => removeFromCart(item.product._id)}\n                      className=\"p-1 text-red-400 hover:text-red-600\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* Total et bouton de validation */}\n          {cart.length > 0 && (\n            <div className=\"border-t pt-4\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <span className=\"text-lg font-semibold text-gray-900\">Total:</span>\n                <span className=\"text-xl font-bold text-green-600\">\n                  {calculateTotal().toLocaleString()} GNF\n                </span>\n              </div>\n              <button\n                onClick={processCashSale}\n                disabled={processing}\n                className=\"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center justify-center space-x-2\"\n              >\n                {processing ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                    <span>Traitement...</span>\n                  </>\n                ) : (\n                  <>\n                    <Receipt className=\"h-4 w-4\" />\n                    <span>Enregistrer la Vente</span>\n                  </>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminCashSale;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,YAAY,EAAEC,UAAU,EAAEC,OAAO,EAAEC,CAAC,EAAEC,OAAO,QAAQ,cAAc;AACjG,OAAOC,UAAU,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7C,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd0B,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,QAAQ,GAAG,MAAMlB,UAAU,CAACmB,WAAW,CAAC;QAAEC,KAAK,EAAE;MAAI,CAAC,CAAC;MAC7D,MAAMC,YAAY,GAAG,CAAAH,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEI,IAAI,KAAI,EAAE;MACzCd,WAAW,CAACa,YAAY,CAACE,MAAM,CAACC,CAAC;QAAA,IAAAC,QAAA;QAAA,OAAID,CAAC,CAACE,QAAQ,IAAI,CAAC,EAAAD,QAAA,GAAAD,CAAC,CAACG,KAAK,cAAAF,QAAA,uBAAPA,QAAA,CAASG,MAAM,KAAI,CAAC,IAAI,CAAC;MAAA,EAAC,CAAC;IACjF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;IACjE,CAAC,SAAS;MACRf,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMiB,gBAAgB,GAAGxB,QAAQ,CAACgB,MAAM,CAACS,OAAO,IAC9CA,OAAO,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,UAAU,CAACyB,WAAW,CAAC,CAAC,CAAC,IAC7DF,OAAO,CAACI,KAAK,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,UAAU,CAACyB,WAAW,CAAC,CAAC,CAAC,IAC9DF,OAAO,CAACK,GAAG,CAACH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,UAAU,CAACyB,WAAW,CAAC,CAAC,CAC7D,CAAC;EAED,MAAMI,SAAS,GAAIN,OAAO,IAAK;IAAA,IAAAO,cAAA;IAC7B,MAAMC,YAAY,GAAG7B,IAAI,CAAC8B,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACV,OAAO,CAACW,GAAG,KAAKX,OAAO,CAACW,GAAG,CAAC;IACxE,MAAMC,cAAc,GAAG,EAAAL,cAAA,GAAAP,OAAO,CAACL,KAAK,cAAAY,cAAA,uBAAbA,cAAA,CAAeX,MAAM,KAAI,CAAC;IAEjD,IAAIY,YAAY,EAAE;MAChB,IAAIA,YAAY,CAACK,QAAQ,GAAGD,cAAc,EAAE;QAC1ChC,OAAO,CAACD,IAAI,CAACmC,GAAG,CAACJ,IAAI,IACnBA,IAAI,CAACV,OAAO,CAACW,GAAG,KAAKX,OAAO,CAACW,GAAG,GAC5B;UAAE,GAAGD,IAAI;UAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;QAAE,CAAC,GACxCH,IACN,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACL,IAAIE,cAAc,GAAG,CAAC,EAAE;QACtBhC,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;UAAEqB,OAAO;UAAEa,QAAQ,EAAE;QAAE,CAAC,CAAC,CAAC;MAC9C;IACF;EACF,CAAC;EAED,MAAME,cAAc,GAAGA,CAACC,SAAS,EAAEC,WAAW,KAAK;IACjD,IAAIA,WAAW,IAAI,CAAC,EAAE;MACpBrC,OAAO,CAACD,IAAI,CAACY,MAAM,CAACmB,IAAI,IAAIA,IAAI,CAACV,OAAO,CAACW,GAAG,KAAKK,SAAS,CAAC,CAAC;IAC9D,CAAC,MAAM;MAAA,IAAAE,eAAA;MACL,MAAMlB,OAAO,GAAGzB,QAAQ,CAACkC,IAAI,CAACjB,CAAC,IAAIA,CAAC,CAACmB,GAAG,KAAKK,SAAS,CAAC;MACvD,MAAMG,WAAW,GAAG,CAAAnB,OAAO,aAAPA,OAAO,wBAAAkB,eAAA,GAAPlB,OAAO,CAAEL,KAAK,cAAAuB,eAAA,uBAAdA,eAAA,CAAgBtB,MAAM,KAAI,CAAC;MAE/C,IAAIqB,WAAW,IAAIE,WAAW,EAAE;QAC9BvC,OAAO,CAACD,IAAI,CAACmC,GAAG,CAACJ,IAAI,IACnBA,IAAI,CAACV,OAAO,CAACW,GAAG,KAAKK,SAAS,GAC1B;UAAE,GAAGN,IAAI;UAAEG,QAAQ,EAAEI;QAAY,CAAC,GAClCP,IACN,CAAC,CAAC;MACJ;IACF;EACF,CAAC;EAED,MAAMU,cAAc,GAAIJ,SAAS,IAAK;IACpCpC,OAAO,CAACD,IAAI,CAACY,MAAM,CAACmB,IAAI,IAAIA,IAAI,CAACV,OAAO,CAACW,GAAG,KAAKK,SAAS,CAAC,CAAC;EAC9D,CAAC;EAED,MAAMK,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAO1C,IAAI,CAAC2C,MAAM,CAAC,CAACC,KAAK,EAAEb,IAAI,KAAKa,KAAK,GAAIb,IAAI,CAACV,OAAO,CAACwB,QAAQ,GAAGd,IAAI,CAACG,QAAS,EAAE,CAAC,CAAC;EACzF,CAAC;EAED,MAAMY,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI9C,IAAI,CAAC+C,MAAM,KAAK,CAAC,EAAE;MACrBC,KAAK,CAAC,yCAAyC,CAAC;MAChD;IACF;IAEA3C,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF;MACA,MAAM4C,SAAS,GAAG;QAChBC,SAAS,EAAE,WAAW;QACtBC,cAAc,EAAE,QAAQ;QACxBC,OAAO,EAAE;UACPC,MAAM,EAAE,MAAM;UACdC,MAAM,EAAE,MAAM;UACdC,MAAM,EAAEb,cAAc,CAAC,CAAC;UACxBc,MAAM,EAAE,IAAIC,IAAI,CAAC;QACnB,CAAC;QACDC,KAAK,EAAE1D,IAAI,CAACmC,GAAG,CAACJ,IAAI,KAAK;UACvBV,OAAO,EAAEU,IAAI,CAACV,OAAO,CAACW,GAAG;UACzBE,QAAQ,EAAEH,IAAI,CAACG,QAAQ;UACvByB,OAAO,EAAE5B,IAAI,CAACV,OAAO,CAACsC,OAAO,IAAK5B,IAAI,CAACV,OAAO,CAACwB,QAAQ,IAAI,CAAC,GAAG,CAACd,IAAI,CAACV,OAAO,CAACuC,OAAO,IAAI,CAAC,IAAI,GAAG,CAAE;UAClGf,QAAQ,EAAEd,IAAI,CAACV,OAAO,CAACwB,QAAQ;UAC/Be,OAAO,EAAE7B,IAAI,CAACV,OAAO,CAACuC,OAAO,IAAI,CAAC;UAClCC,OAAO,EAAE,CAAC9B,IAAI,CAACV,OAAO,CAACsC,OAAO,IAAK5B,IAAI,CAACV,OAAO,CAACwB,QAAQ,IAAI,CAAC,GAAG,CAACd,IAAI,CAACV,OAAO,CAACuC,OAAO,IAAI,CAAC,IAAI,GAAG,CAAE,IAAI7B,IAAI,CAACG,QAAQ;UACpH4B,QAAQ,EAAE/B,IAAI,CAACV,OAAO,CAACwB,QAAQ,GAAGd,IAAI,CAACG;QACzC,CAAC,CAAC,CAAC;QACHoB,MAAM,EAAE;MACV,CAAC;MAED,MAAM/C,QAAQ,GAAG,MAAMlB,UAAU,CAAC0E,WAAW,CAACd,SAAS,CAAC;MAExD,IAAI1C,QAAQ,EAAE;QACZyC,KAAK,CAAC,oDAAoDzC,QAAQ,CAACyD,WAAW,IAAI,KAAK,YAAYtB,cAAc,CAAC,CAAC,CAACuB,cAAc,CAAC,CAAC,MAAM,CAAC;QAC3IhE,OAAO,CAAC,EAAE,CAAC;QACXK,YAAY,CAAC,CAAC,CAAC,CAAC;MAClB;IACF,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;MACrE8B,KAAK,CAAC,8CAA8C,CAAC;IACvD,CAAC,SAAS;MACR3C,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,oBACEd,OAAA;IAAK2E,SAAS,EAAC,0DAA0D;IAAAC,QAAA,gBACvE5E,OAAA;MAAK2E,SAAS,EAAC,wCAAwC;MAAAC,QAAA,eACrD5E,OAAA;QAAI2E,SAAS,EAAC,uDAAuD;QAAAC,QAAA,gBACnE5E,OAAA,CAACN,UAAU;UAACiF,SAAS,EAAC;QAA6B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,uBAExD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAENhF,OAAA;MAAK2E,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAEpD5E,OAAA;QAAK2E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB5E,OAAA;UAAK2E,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5E,OAAA,CAACV,MAAM;YAACqF,SAAS,EAAC;UAA0E;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/FhF,OAAA;YACEiF,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,0BAA0B;YACtCC,KAAK,EAAE5E,UAAW;YAClB6E,QAAQ,EAAGC,CAAC,IAAK7E,aAAa,CAAC6E,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAC/CR,SAAS,EAAC;UAAqH;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhF,OAAA;UAAK2E,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAChDjE,OAAO,gBACNX,OAAA;YAAK2E,SAAS,EAAC,kBAAkB;YAAAC,QAAA,eAC/B5E,OAAA;cAAK2E,SAAS,EAAC;YAAuE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1F,CAAC,GACJnD,gBAAgB,CAAC2B,MAAM,KAAK,CAAC,gBAC/BxD,OAAA;YAAK2E,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAAC;UAEhD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,GAENnD,gBAAgB,CAACe,GAAG,CAAEd,OAAO;YAAA,IAAAyD,iBAAA,EAAAC,eAAA,EAAAC,eAAA;YAAA,oBAC3BzF,OAAA;cAAuB2E,SAAS,EAAC,0FAA0F;cAAAC,QAAA,gBACzH5E,OAAA;gBAAK2E,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,gBAEjD5E,OAAA;kBAAK2E,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,EACrC9C,OAAO,CAAC4D,KAAK,gBACZ1F,OAAA;oBACE2F,GAAG,EAAE,wBAAwB7D,OAAO,CAAC4D,KAAK,EAAG;oBAC7CE,GAAG,EAAE9D,OAAO,CAACC,IAAK;oBAClB4C,SAAS,EAAC,mCAAmC;oBAC7CkB,OAAO,EAAGR,CAAC,IAAK;sBAAA,IAAAS,aAAA;sBACdT,CAAC,CAACC,MAAM,CAACK,GAAG,GAAG,8DAA8DI,kBAAkB,CAAC,EAAAD,aAAA,GAAAhE,OAAO,CAACC,IAAI,cAAA+D,aAAA,uBAAZA,aAAA,CAAcE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,IAAI,CAAC,EAAE;oBAC1I;kBAAE;oBAAAnB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,gBAEFhF,OAAA;oBAAK2E,SAAS,EAAC,mEAAmE;oBAAAC,QAAA,eAChF5E,OAAA,CAACH,OAAO;sBAAC8E,SAAS,EAAC;oBAAuB;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1C;gBACN;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAGNhF,OAAA;kBAAK2E,SAAS,EAAC,QAAQ;kBAAAC,QAAA,gBACrB5E,OAAA;oBAAI2E,SAAS,EAAC,2BAA2B;oBAAAC,QAAA,EAAE9C,OAAO,CAACC;kBAAI;oBAAA8C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC7DhF,OAAA;oBAAG2E,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GAAE9C,OAAO,CAACI,KAAK,EAAC,KAAG,EAACJ,OAAO,CAACmE,MAAM;kBAAA;oBAAApB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC3EhF,OAAA;oBAAG2E,SAAS,EAAC,oCAAoC;oBAAAC,QAAA,IAAAW,iBAAA,GAAEzD,OAAO,CAACwB,QAAQ,cAAAiC,iBAAA,uBAAhBA,iBAAA,CAAkBb,cAAc,CAAC,CAAC,EAAC,MAAI;kBAAA;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eAC9FhF,OAAA;oBAAG2E,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GAAC,SAAO,EAAC,EAAAY,eAAA,GAAA1D,OAAO,CAACL,KAAK,cAAA+D,eAAA,uBAAbA,eAAA,CAAe9D,MAAM,KAAI,CAAC;kBAAA;oBAAAmD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACNhF,OAAA;gBACEkG,OAAO,EAAEA,CAAA,KAAM9D,SAAS,CAACN,OAAO,CAAE;gBAClCqE,QAAQ,EAAE,CAAC,EAAAV,eAAA,GAAA3D,OAAO,CAACL,KAAK,cAAAgE,eAAA,uBAAbA,eAAA,CAAe/D,MAAM,KAAI,CAAC,MAAM,CAAE;gBAC7CiD,SAAS,EAAC,4GAA4G;gBAAAC,QAAA,eAEtH5E,OAAA,CAACT,IAAI;kBAACoF,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA,GAlCDlD,OAAO,CAACW,GAAG;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAmChB,CAAC;UAAA,CACP;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNhF,OAAA;QAAK2E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB5E,OAAA;UAAI2E,SAAS,EAAC,+CAA+C;UAAAC,QAAA,gBAC3D5E,OAAA,CAACP,YAAY;YAACkF,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,YACjC,EAACvE,IAAI,CAAC+C,MAAM,EAAC,YACvB;QAAA;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAELhF,OAAA;UAAK2E,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAChDnE,IAAI,CAAC+C,MAAM,KAAK,CAAC,gBAChBxD,OAAA;YAAK2E,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAAC;UAEhD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,GAENvE,IAAI,CAACmC,GAAG,CAAEJ,IAAI;YAAA,IAAA4D,qBAAA,EAAAC,mBAAA;YAAA,oBACZrG,OAAA;cAA4B2E,SAAS,EAAC,yEAAyE;cAAAC,QAAA,gBAC7G5E,OAAA;gBAAK2E,SAAS,EAAC,QAAQ;gBAAAC,QAAA,gBACrB5E,OAAA;kBAAI2E,SAAS,EAAC,2BAA2B;kBAAAC,QAAA,EAAEpC,IAAI,CAACV,OAAO,CAACC;gBAAI;kBAAA8C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAClEhF,OAAA;kBAAG2E,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,IAAAwB,qBAAA,GAAE5D,IAAI,CAACV,OAAO,CAACwB,QAAQ,cAAA8C,qBAAA,uBAArBA,qBAAA,CAAuB1B,cAAc,CAAC,CAAC,EAAC,YAAO,EAAClC,IAAI,CAACG,QAAQ;gBAAA;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACxGhF,OAAA;kBAAG2E,SAAS,EAAC,oCAAoC;kBAAAC,QAAA,GAC9C,CAACpC,IAAI,CAACV,OAAO,CAACwB,QAAQ,GAAGd,IAAI,CAACG,QAAQ,EAAE+B,cAAc,CAAC,CAAC,EAAC,MAC5D;gBAAA;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACNhF,OAAA;gBAAK2E,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,gBAC1C5E,OAAA;kBACEkG,OAAO,EAAEA,CAAA,KAAMrD,cAAc,CAACL,IAAI,CAACV,OAAO,CAACW,GAAG,EAAED,IAAI,CAACG,QAAQ,GAAG,CAAC,CAAE;kBACnEgC,SAAS,EAAC,uCAAuC;kBAAAC,QAAA,eAEjD5E,OAAA,CAACR,KAAK;oBAACmF,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvB,CAAC,eACThF,OAAA;kBAAM2E,SAAS,EAAC,qCAAqC;kBAAAC,QAAA,EAAEpC,IAAI,CAACG;gBAAQ;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC5EhF,OAAA;kBACEkG,OAAO,EAAEA,CAAA,KAAMrD,cAAc,CAACL,IAAI,CAACV,OAAO,CAACW,GAAG,EAAED,IAAI,CAACG,QAAQ,GAAG,CAAC,CAAE;kBACnEwD,QAAQ,EAAE3D,IAAI,CAACG,QAAQ,KAAK,EAAA0D,mBAAA,GAAA7D,IAAI,CAACV,OAAO,CAACL,KAAK,cAAA4E,mBAAA,uBAAlBA,mBAAA,CAAoB3E,MAAM,KAAI,CAAC,CAAE;kBAC7DiD,SAAS,EAAC,2DAA2D;kBAAAC,QAAA,eAErE5E,OAAA,CAACT,IAAI;oBAACoF,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB,CAAC,eACThF,OAAA;kBACEkG,OAAO,EAAEA,CAAA,KAAMhD,cAAc,CAACV,IAAI,CAACV,OAAO,CAACW,GAAG,CAAE;kBAChDkC,SAAS,EAAC,qCAAqC;kBAAAC,QAAA,eAE/C5E,OAAA,CAACJ,CAAC;oBAAC+E,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA,GA7BExC,IAAI,CAACV,OAAO,CAACW,GAAG;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA8BrB,CAAC;UAAA,CACP;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAGLvE,IAAI,CAAC+C,MAAM,GAAG,CAAC,iBACdxD,OAAA;UAAK2E,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B5E,OAAA;YAAK2E,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrD5E,OAAA;cAAM2E,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACnEhF,OAAA;cAAM2E,SAAS,EAAC,kCAAkC;cAAAC,QAAA,GAC/CzB,cAAc,CAAC,CAAC,CAACuB,cAAc,CAAC,CAAC,EAAC,MACrC;YAAA;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eACNhF,OAAA;YACEkG,OAAO,EAAE3C,eAAgB;YACzB4C,QAAQ,EAAEtF,UAAW;YACrB8D,SAAS,EAAC,wIAAwI;YAAAC,QAAA,EAEjJ/D,UAAU,gBACTb,OAAA,CAAAE,SAAA;cAAA0E,QAAA,gBACE5E,OAAA;gBAAK2E,SAAS,EAAC;cAA2D;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjFhF,OAAA;gBAAA4E,QAAA,EAAM;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eAC1B,CAAC,gBAEHhF,OAAA,CAAAE,SAAA;cAAA0E,QAAA,gBACE5E,OAAA,CAACL,OAAO;gBAACgF,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC/BhF,OAAA;gBAAA4E,QAAA,EAAM;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eACjC;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5E,EAAA,CAnRID,aAAa;AAAAmG,EAAA,GAAbnG,aAAa;AAqRnB,eAAeA,aAAa;AAAC,IAAAmG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}